{% extends 'backend/backend.html' %}

{% block article %}
    <h2 class="text-center">添加文章</h2>
    <form action="" method="post">
        {% csrf_token %}
        <div class="form-group">
            <label for="title">标题:</label>
            <input name="title" id="title" type="text" class="form-control">
        </div>
        <div class="form-group">
            <p><label for="content">内容:</label></p>
            <textarea name="content" id="content" cols="30" rows="10"></textarea>
        </div>

        <p><label for="">文章分类:</label></p>
        {% for category in category_list %}
            <input style="margin-left: 20px" type="radio" name="category_id" value="{{ category.pk }}">
            {{ category.name }}
        {% endfor %}

        <p><label for="">文章标签:</label></p>
        {% for tag in tag_list %}
            <input style="margin-left: 20px" type="checkbox" name="tag_list" value="{{ tag.pk }}">{{ tag.name }}
        {% endfor %}
        <button class="btn btn-success btn-block">发布</button>
    </form>
    <br>
    <br>

{% endblock %}

{% block js %}
    <script charset="utf-8" src="/static/kindeditor/kindeditor-all-min.js"></script>

    <script>
        KindEditor.ready(function (K) {
            window.editor = K.create('#content', {
                height: '450px',
                width: '100%',
                uploadJson: '/app01/article_file/',
                extraFileUploadParams: {
                    'csrfmiddlewaretoken': '{{ csrf_token }}'
                }
            });
        });
    </script>
{% endblock %}