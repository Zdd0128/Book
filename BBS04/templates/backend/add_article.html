{% extends 'backend/backend.html' %}


{% block article %}
    <div class="container-fluid">
        <div class="row">
            <h3 class="text-center">添加文章</h3>
            <form action="" method="post">
                {% csrf_token %}
                <div class="form-group">
                    <p><label for="title">标题:</label></p>
                    <input name="title" id="title" class="form-control" type="text">
                </div>
                <div class="form-group">
                    <p><label for="content">内容:</label></p>
                    <textarea name="content" id="content" cols="30" rows="10"></textarea>
                </div>
                <br>
                <p><label for="">文章分类:</label></p>
                {% for category in category_list %}
                    <input type="radio" name="category_id" value="{{ category.pk }}">{{ category.name }}
                    &nbsp;&nbsp;&nbsp;&nbsp;
                {% endfor %}
                <br>
                <br>
                <p><label for="">文章标签:</label></p>
                {% for tag in tag_list %}
                    <input type="checkbox" name="tag_list" value="{{ tag.pk }}">{{ tag.name }}
                    &nbsp;&nbsp;&nbsp;&nbsp;
                {% endfor %}
                <br>
                <br>
                <input type="submit" class="btn btn-block btn-success" value="发布">
            </form>
        </div>
    </div>
{% endblock %}

{% block js %}
    <script charset="utf-8" src="/static/kindeditor/kindeditor-all-min.js"></script>
    <script>
        KindEditor.ready(function (K) {
            window.editor = K.create('#content', {
                width: '100%',
                height: '400px',
                resizeType: 1,
                uploadJson: '/app01/article_img/',

                extraFileUploadParams: {
                    'csrfmiddlewaretoken': '{{ csrf_token }}',
                }
            })
        })
    </script>

{% endblock %}